<h2>List of Surveys</h2>

<div class="add_survey">
  <button (click)="createSurvey(name.value); name.value = ''">Add Survey</button>
  <input #name/>
</div>
<br>

<div class="survey_search">
  <app-survey-search></app-survey-search>
</div>
<!--<input #searchBox id="search-box" (input)="search(searchBox.value)" (click)="onSearch()" /> <br> <br>-->

<table class="table_survey">
  <tr>
    <th>Id</th>
    <th>Name</th>
    <th>Version</th>
    <th>Created</th>
    <th>Last Modified</th>
  </tr>
<!--  <tr *ngFor="let survey of surveys$ | async"-->
  <tr *ngFor="let survey of surveys"
      routerLink="/detail/{{survey.id}}"
      class="survey_data">
    <td class="survey_id">{{survey.id }}</td>
    <td class="name">{{ survey.name }}</td>
    <td class="version">{{getSurveyVersion(survey.id)}}</td>
    <td class="created">{{survey.created}}</td>
    <td>{{survey.lastModified}}
      <button (click)="deleteSurvey(survey.id)">Delete</button>
    </td>
  </tr>
</table>

